# Платежная система

## endpoints:

* GET /value - узнать баланс аккаунта
    
    Формат ответа:
    
    ```
        value: int
    ```
  
    Формат ожидаемых данных:
    
    id - уникальный идентификатор аккаунта
    
    password - пароль от аккаунта
    
    Авторизация через Basic authentication
    
    auth = (id, password)
    
    Возвращаемые ошибки:
    
    401 - Неверный пароль
    
    400 - Аккаунт с таким ID не существует или был удалён
    
* POST /client - создать аккаунт

    Формат ожидаемых данных:
    
    name - имя владельца аккаунта
    
    password - пароль от аккаунта
     
    ```
        {
            'password': string,
            'name': string
        }
     ```
  
    Формат возвращаемых данных:
    
    id - уникальный идентификатор аккаунта
    
    ```
        id: string
    ```
  
    Возвращаемые ошибки:
    
    400:
    * Для создания аккаунта необходимо придумать пароль!
    * Для создания аккаунта необходимо ввести имя!
    
* POST /sendMoney - отправить деньги другому пользователю

    Формат ожидаемых данных:
    
    sender - уникальный идентификатор отправителя
    
    receiver - уникальный идентификатор получателя
    
    password - пароль от аккаунта
    
    sum - сумма перевода
    
    Авторизация через Basic authentication
    
    auth = (id, password)
    
    ```
        {
            'receiver': string,
            'sum': int | string,
        }
     ```
  
    Возвращаемые ошибки:
    
    401 - Неверный пароль
    
    400 :
    * Аккаунт с таким ID не существует или был удалён
    * Невозможно перевести деньги, проверьте реквизиты
    
* DELETE /client - удалить аккаунт
    
    Формат ожидаемых данных:
    
    id - уникальный идентификатор аккаунта
     
    password - пароль от аккаунта
 
    Авторизация через Basic authentication
    
    auth = (id, password)
  
   Возвращаемые ошибки:
    
   401 - Неверный пароль
    
   400 - Аккаунт с таким ID не существует или был удалён
   
* GET /client/list - получение списка клиентов 

    Формат возвращаемых данных:
      
     id - уникальный идентификатор аккаунта
      name - имя владельца
      
     ключ - идентификатор, значение - имя аккаунта
      
    ```
    {
        'id': string,
     ...
    }
    ```
  
* POST /setMoney - пополнение баланса аккаунта администратором

    Формат ожидаемых данных:
    
    id - уникальный идентификатор аккаунта
     
    password - пароль администратора
    
    sum - сумма, на которую надо изменить баланс аккаунта
 
    Авторизация через Basic authentication
    
    auth = ('ADMIN', password)
    ```
       {
           'id': string,
           'sum' : int | string
       }
    ```

   Возвращаемые ошибки:
    
   401 - Неверный пароль
    
   400 - Аккаунт с таким ID не существует или был удалён
   
* GET /history - получить историю операций
 
    password - пароль администратора
 
    ```
       password: string
    ```
  
    Формат ответных данных:
    
    code - код операции:
    
    1 - создание аккаунта
    
    2 - удаление аккаунта
    
    3 - перевод денег
    
    initiator - уникальный идентификатор инициатора операции, ADMIN в 
    случае если операция выполнена администратором
    
    objectOfOperation - уникальный идентификатор аккаунта над которым производится 
    операция 
    
    value - значение на которое изменился баланс объекта операции
    
    ```
    {
        code: int,
        initiator: string | null,
        objectOfOperation: string | null,
        value: int | null
     }

    ```

    Возвращаемые ошибки:
    
   401 - Неверный пароль
    
    

    
    